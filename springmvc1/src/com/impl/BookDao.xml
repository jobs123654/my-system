<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.BookDao">

      <!-- 定义缓存 -->
     <!-- <cache eviction="LRU" flushInterval="3000" readOnly="false" size="1000" type="com.cache.MyCache">
     </cache> -->
     
  
   <sql id="book_field">
    id,name,uid
   </sql> 
   
   <select id="getBookList" resultType="book">
    select  <include refid="book_field">
    </include> from book  
   </select>
   
  <!--  <resultMap type="map" id="book_list">
      <id column="id"  property="id"/>
       <result column="name" property="name"/>
       <result column="uId" property="uid"/>
       <association property="user" javaType="user">
        <id column="id" property="id"/>
            <result column="userName" property="userName"/>
            <result column="userPassword" property="userPassword"/>
            <result column="useNumber" property="useNumber"/>
       </association>    
   </resultMap> -->
  
    <!--  <resultMap type="book" id="book_user">
        <id column="id" property="id"/>
        <result column="name" property="name"/>
        <result column="uid" property="uid"/>
       
        <association property="user" select="com.dao.UserDao.getUserOne"  column="uid" >
             <id column="id" property="id"/> 
             <result column="userName" property="userName"/>
             <result column="userPassword" property="userPassword"/>
        </association>
        
         <collection property="users" ofType="com.entity.User">
            <id column="id" property="id"/> 
               <result column="userName" property="userName"/>
               <result column="userPassword" property="userPassword"/>
               <result column="userNumber" property="userNumber"/>
               <result column="role" property="role"/>
               <result column="userSex" property="userSex"/>
         </collection>
        
     </resultMap> -->
  
  
     <!-- <select id="getBook" resultMap="book_user">
        select book.id,book.name,book.uid,user.userName,user.userPassword,user.role,user.userNumber from book join user on user.id=book.uid 
     
     </select> -->
     
     <!-- 动态sql -->
     <!-- <select id="testSql" resultType="book">
      select * from book  -->
      <!--  <where>
          <if test="id!=null &amp;&amp;id!=0">
            id =#{id}
          </if>
         <if test="userName!=null &amp;&amp; userName!=&quot;&quot;">
         name like #{userName}
         </if>
         <if test="userPassword!=null &amp;&amp; userPassword!=0">
         uid=#{userPassword}
         </if>
         
       </where> -->
       
     <!--    <where>
         <choose>
            <when test="id !=null">
             id=#{id}
            </when>
             <when test="userName!=null">
             name like #{userName}
             </when>
              <when test="userPassword!=null">
               uid=#{userPassword}
              </when>
               <otherwise>
                id>0
               </otherwise>
         </choose>
        </where>
     </select> -->
  
   <!-- <update  id="updateBook">
     update book set
      <where>
      
      <if test="name!=null">
       name=#{name}
      </if>
       <if test="uid!=null">
        uId=#{uid}
       </if>
         id=#{id}
        </where>
   </update> -->
   <!-- <insert id="insertBook">
     insert into book (
       <include refid="book_field"></include>
     ) values
      <foreach collection="books" item="b" separator=",">
      (#{b.name},#{b.uid})
      </foreach>
   </insert> -->
  <!-- 历年重大事件发生系统 -->
  <!-- 中国近代战争 -->
</mapper>